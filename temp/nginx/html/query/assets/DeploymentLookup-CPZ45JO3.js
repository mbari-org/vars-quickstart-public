import{d as g,G as v,h as c,I as _,l as s,b as h,i as l,t as S,u as q,f as w,r as Q,F as A,o as N,q as u}from"./index-ps4APlwp.js";import{c as R,r as L,j as k,e as B,Q as D}from"./QueryRunner-BvdmagcV.js";import"./constants-Cf8BquGR.js";import"./util-C7v2iPfJ.js";const F=g({__name:"DeploymentLookup",setup(V){const p=R(),r=_(),t=v(),o=c(!1),d=c(0),i=r.query.images==="true";s(()=>t.isLoading,e=>{e||(o.value=!0)},{immediate:!0}),s(()=>r.params.name,e=>{t.isLoading||(o.value=!0)},{immediate:!0}),s(()=>r.query.url,e=>{e&&(t.url=e)},{immediate:!0}),s(()=>o.value,e=>{e&&f(r.params.name)},{immediate:!0});function f(e,a=!0){e&&(L(),Array.isArray(e)&&(e=e[0]),i&&(k().imagesOnly=!0),p.add(e),y(a))}function y(e=!0){const a=B().api;console.log("annosaurusApi",a),new D(a).runQuery(n=>{d.value=n}).then(()=>{e&&(i?u.push({name:"results-image-grid-view"}):u.push({name:"results-table-view"}))}).catch(n=>{console.error(n),u.push({name:"query-view"})})}return(e,a)=>{const m=Q("v-progress-circular");return N(),h(A,null,[l("h1",null,"Loading annotations for "+S(q(r).params.name),1),l("div",null,[w(m,{indeterminate:""})])],64)}}});export{F as default};
