import{L as m}from"./index-ps4APlwp.js";function p(n){if(n.length<2)return[];const e=n[0].split("	");return n.slice(1).map(t=>{const a=t.split("	"),i={};return e.forEach((c,s)=>{const r=a[s];i[c]=r==="null"?null:r}),i})}function d(n,e){const o=new Map;return n.forEach(t=>{const a=e(t),i=o.get(a);i?i.push(t):o.set(a,[t])}),o}function b(n){return n?n.find(o=>o.endsWith(".jpg"))||n[0]:void 0}function h(){return new Date().toISOString().replace(/[-:]/g,"").replace(/\..+/,"")+"Z"}function x(n){console.log(n);const e=new Date(n);return console.log(e),e.toISOString().replace(/[-:]/g,"").replace(/\..+/,"")+"Z"}function y(n){return Array.from({length:40},(c,s)=>{const r=0+s*100,u=r+100,l=n.filter(f=>f>=r&&f<u).length;return{index:s,min:r,max:u,count:l}})}function w(n){const e=n.map(c=>c.getUTCFullYear()),o=1985,a=new Date().getUTCFullYear()-o+1;return Array.from({length:a},(c,s)=>{const r=o+s,u=e.filter(l=>l===r).length;return{index:s,min:r,max:r,count:u}})}async function S(n){const e=new m,o=e.folder("annotations");for(const t of n){const a=`${t.video_sequence_name}-${t.observation_uuid}.json`,i=JSON.stringify(t,null,2);if(o?.file(a,i),t.images)for(const c of t.images){const s=c.url;if(s){const r=s.split(".").pop(),u=await fetch(s,{mode:"cors"}).then(l=>l.blob());o?.file(`${t.video_sequence_name}-${t.observation_uuid}.${r}`,u)}}}return await e.generateAsync({type:"blob",streamFiles:!0})}export{x as a,d as b,y as d,b as e,S as g,h as n,p as t,w as y};
