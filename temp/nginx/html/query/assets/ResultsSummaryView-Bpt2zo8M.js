import{u as k,M as N}from"./constants-Cf8BquGR.js";import{d as C,y as F}from"./util-C7v2iPfJ.js";import{d as B,c as a,b as h,f as r,i as s,w as i,r as n,a as m,F as S,g as _,o}from"./index-ps4APlwp.js";const T={key:1},H=B({__name:"ResultsSummaryView",setup(A){const d=k(),l=d.annotations,f=a(()=>l.map(t=>t.depth_meters??NaN).filter(t=>!isNaN(t))),v=a(()=>l.map(t=>t.index_recorded_timestamp?new Date(t.index_recorded_timestamp):null).filter(t=>t!==null)),x=a(()=>{const t=C(f.value);return{series:[{name:"Depth",data:t.map(e=>e.count)}],options:{dataLabels:{enabled:!0},plotOptions:{bar:{horizontal:!0}},xaxis:{categories:t.map(e=>`${e.min.toFixed(0)}-${e.max.toFixed(0)}m`),lines:{show:!0},title:{text:"Count"}},yaxis:{lines:{show:!0},title:{text:"Depth (m)"}},tooltip:{enabled:!1}}}}),c=a(()=>{const t=F(v.value);return{series:[{name:"Year",data:t.map(e=>e.count)}],options:{dataLabels:{enabled:!0},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:t.map(e=>`${e.min}`),lines:{show:!0},title:{text:"Count"}},yaxis:{lines:{show:!0},title:{text:"Year"}},tooltip:{enabled:!1}}}}),u=a(()=>({series:[{name:"T-S",data:l.filter(e=>e.temperature_celsius&&e.salinity).map(e=>[e.salinity,e.temperature_celsius])}],options:{grid:{xaxis:{lines:{show:!0},type:"numeric"},yaxis:{lines:{show:!0}}},xaxis:{lines:{show:!0},max:35.5,min:32.5,labels:{formatter:e=>e.toFixed(1)},tickAmount:10,title:{text:"Salinity (psu)"}},yaxis:{min:0,max:24,labels:{formatter:e=>e.toFixed(1)},lines:{show:!0},tickAmount:10,title:{text:"Temperature (C)"}},tooltip:{enabled:!1,x:{formatter:e=>e.toFixed(1)},y:{formatter:e=>e.toFixed(1)}}}}));function b(){return d.queryResults?.length>N}return(t,e)=>{const y=n("router-link"),g=n("v-col"),w=n("v-row"),p=n("apexchart");return o(),h(S,null,[r(w,null,{default:i(()=>[r(g,null,{default:i(()=>[b()?(o(),m(y,{key:0,to:"large-results-view"},{default:i(()=>[...e[0]||(e[0]=[_("Back to results table",-1)])]),_:1})):(o(),m(y,{key:1,to:"/results-table-view"},{default:i(()=>[...e[1]||(e[1]=[_("Back to results table",-1)])]),_:1}))]),_:1})]),_:1}),s("div",null,[e[2]||(e[2]=s("h2",null,"Depth Histogram",-1)),r(p,{series:x.value.series,options:x.value.options,type:"bar",height:"700"},null,8,["series","options"])]),s("div",null,[e[3]||(e[3]=s("h2",null,"Year Histogram",-1)),r(p,{series:c.value.series,options:c.value.options,type:"bar",height:"700"},null,8,["series","options"])]),s("div",null,[e[4]||(e[4]=s("h2",null,"T-S Diagram",-1)),u.value.series[0].data.length>0?(o(),m(p,{key:0,series:u.value.series,options:u.value.options,type:"scatter",height:"700"},null,8,["series","options"])):(o(),h("div",T," No data. To view this plot, return temperature and salinity data in your query "))])],64)}}});export{H as default};
