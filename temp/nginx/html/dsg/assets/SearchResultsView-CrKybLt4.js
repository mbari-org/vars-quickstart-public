import{u as V,i as A,T as E,C as $,c as j}from"./oni-D9YAfMKR.js";import{d as T}from"./no-image-BFxib7fC.js";import{d as w,k as F,l as h,m as R,c as v,i as c,F as S,q as I,t as m,n as b,b as a,a as r,h as n,j as B,o as l,_ as y,g,p as k,u as N}from"./index-DTKMe9NA.js";const z={class:"rank"},U=w({__name:"VerticalTaxaTree",props:{concept:{},levels:{}},setup(f){const t=f,p=V().api,_=F({nodes:[]}),o=h(()=>A(t.concept)?"name left-pad taxa":"name left-pad");function e(){p.treeUp(t.concept.name).then(s=>{const d=new E(s).trimAndFlatten(t.levels);_.nodes=d})}return R(()=>e()),(s,i)=>{const d=r("router-link");return l(),v("div",null,[c("table",null,[c("tbody",null,[(l(!0),v(S,null,I(_.nodes,u=>(l(),v("tr",{class:"row",key:u.name},[c("td",null,[c("span",z,m(u.rank),1)]),c("td",null,[c("span",{class:b(o.value)},[a(d,{to:{name:"view-concept",params:{concept:u.name}}},{default:n(()=>[B(m(u.name),1)]),_:2},1032,["to"])],2)])]))),128))])])])}}}),q=y(U,[["__scopeId","data-v-1b95f010"]]),D=["src"],L={key:0,class:"author"},M={key:1,class:"name-space"},O=w({__name:"CompactConceptCard",props:{concept:{}},setup(f){const t=f,x=h(()=>{let e="";return t.concept&&t.concept.alternateNames&&t.concept.alternateNames.length>0&&(e=t.concept.alternateNames.join(", ")),e}),p=h(()=>{const e=t.concept;return e&&e.author?e.author:""}),_=h(()=>t.concept?new $(t.concept).primaryMedia(T):T),o=h(()=>A(t.concept)?"taxa":"plain");return(e,s)=>{const i=r("v-col"),d=r("router-link"),u=r("v-row"),C=r("v-container");return l(),g(C,{class:"pa-0 ma-0",fluid:""},{default:n(()=>[a(u,{align:"center","no-gutters":""},{default:n(()=>[a(i,{class:"align-center"},{default:n(()=>[c("img",{src:_.value,loading:"lazy",class:"image"},null,8,D)]),_:1}),a(i,{class:"d-flex flex-column justify-center"},{default:n(()=>[a(d,{to:{name:"view-concept",params:{concept:t?.concept?.name}},class:b(o.value)},{default:n(()=>[B(m(t?.concept?.name),1)]),_:1},8,["to","class"]),p.value.length>1?(l(),v("span",L,"Author: "+m(p.value),1)):k("",!0),x.value.length>1?(l(),v("span",M," Also known as: "+m(x.value),1)):k("",!0)]),_:1}),a(i,{class:"align-center"},{default:n(()=>[t?.concept?(l(),g(q,{key:0,concept:t.concept,levels:3},null,8,["concept"])):k("",!0)]),_:1})]),_:1}),s[0]||(s[0]=c("hr",null,null,-1))]),_:1})}}}),P=y(O,[["__scopeId","data-v-78b9de2f"]]),G={class:"center-text"},H=w({__name:"SearchResultsView",props:{concept:{}},setup(f){const t=f,x=V(),p=j(()=>x.api.findAllContaining(t.concept).then(_=>_.sort((o,e)=>o.name.localeCompare(e.name))));return(_,o)=>{const e=r("v-col"),s=r("v-row"),i=r("v-divider"),d=r("v-container");return l(),g(d,{class:"pa-0"},{default:n(()=>[a(s,null,{default:n(()=>[a(e,null,{default:n(()=>[c("h1",G,m(N(p)?.length)+' results for "'+m(f.concept)+'"',1)]),_:1})]),_:1}),a(s,null,{default:n(()=>[a(e,{class:"center-text"},{default:n(()=>[...o[0]||(o[0]=[c("h2",null,"Primary Image",-1)])]),_:1}),a(e,{class:"center-text"},{default:n(()=>[...o[1]||(o[1]=[c("h2",null,"Name",-1)])]),_:1}),a(e,{class:"center-text"},{default:n(()=>[...o[2]||(o[2]=[c("h2",null,"Taxonomy",-1)])]),_:1})]),_:1}),a(s,null,{default:n(()=>[a(e,null,{default:n(()=>[a(i)]),_:1})]),_:1}),(l(!0),v(S,null,I(N(p),(u,C)=>(l(),g(s,{key:C},{default:n(()=>[a(e,null,{default:n(()=>[a(P,{concept:u},null,8,["concept"])]),_:2},1024)]),_:2},1024))),128))]),_:1})}}}),W=y(H,[["__scopeId","data-v-048e767d"]]);export{W as default};
